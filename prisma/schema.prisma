generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  userId          String     @id @default(auto()) @map("_id") @db.ObjectId
  email           String     @unique
  password        String?
  name            String?
  userStatus      UserStatus @default(ACTIVE)
  isEmailVerified Boolean    @default(false)

  role   Role?   @relation(fields: [roleId], references: [roleId])
  roleId String? @db.ObjectId

  store Store?

  verificationTokens VerificationToken[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model VerificationToken {
  id        String       @id @default(auto()) @map("_id") @db.ObjectId
  userId    String       @db.ObjectId
  user      User         @relation(fields: [userId], references: [userId], onDelete: Cascade)
  token     String       @unique // <--- à¸•à¹‰à¸­à¸‡à¹€à¸›à¹‡à¸™ unique
  purpose   TokenPurpose // <--- à¹€à¸žà¸´à¹ˆà¸¡ purpose field
  expiresAt DateTime // ISO Date string
  used      Boolean      @default(false)
  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt
}

model Role {
  roleId      String     @id @default(auto()) @map("_id") @db.ObjectId
  name        RoleName
  description String?
  employees   Employee[]
  employeeIds String[]   @db.ObjectId
  users       User[]
  userIds     String[]   @db.ObjectId
  customers   Customer[]
  customerIds String[]   @db.ObjectId
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt

  @@unique([name])
}

model Customer {
  id   String  @id @default(auto()) @map("_id") @db.ObjectId
  name String?

  lineUserId    String  @unique
  displayName   String? // à¸Šà¸·à¹ˆà¸­à¸—à¸µà¹ˆ LINE à¸•à¸±à¹‰à¸‡à¹„à¸§à¹‰ (Nullable)
  pictureUrl    String? // URL à¸£à¸¹à¸›à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ (Nullable)
  statusMessage String? // à¸ªà¸–à¸²à¸™à¸°à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡ (Nullable)
  isLineLinked  Boolean @default(true) // à¸¢à¸·à¸™à¸¢à¸±à¸™à¸§à¹ˆà¸²à¸œà¸¹à¸ LINE à¹à¸¥à¹‰à¸§

  // Contact Data - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸´à¸”à¸•à¹ˆà¸­à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸ˆà¸²à¸à¸à¸²à¸£à¸ˆà¸­à¸‡
  phone String? // à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œ (Nullable)
  email String? // à¸­à¸µà¹€à¸¡à¸¥ (Nullable) @unique

  booking Booking[]

  role   Role?   @relation(fields: [roleId], references: [roleId])
  roleId String? @db.ObjectId

  // 4. Metadata
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt // à¸­à¸±à¸›à¹€à¸”à¸•à¸§à¸±à¸™à¸—à¸µà¹ˆà¹€à¸­à¸‡à¹€à¸¡à¸·à¹ˆà¸­à¸¡à¸µà¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚ Record
}

model Booking {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  customerName  String // 3.6
  customerPhone String // 3.6
  customerEmail String?

  bookingDate DateTime // 3.5 à¸§à¸±à¸™-à¹€à¸§à¸¥à¸²à¹€à¸£à¸´à¹ˆà¸¡
  bookingTime DateTime // à¸„à¸³à¸™à¸§à¸“à¸ˆà¸²à¸ startTime + Service.durationMinutes

  status       BookingStatus @default(CONFIRMED) // 2.7, 2.8, 2.9
  customerType CustomerType  @default(LINE) // 2.4 à¹€à¸žà¸´à¹ˆà¸¡à¸„à¸´à¸§ walk-in

  // à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ
  storeId String @db.ObjectId
  store   Store  @relation(fields: [storeId], references: [id], onDelete: Cascade)

  serviceId String  @db.ObjectId
  service   Service @relation(fields: [serviceId], references: [id])

  employeeId String   @db.ObjectId
  employee   Employee @relation(fields: [employeeId], references: [id])

  customerId String   @db.ObjectId
  customer   Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)

  notifications Notification[] // à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸à¸±à¸š Notification

  // 3.7 à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡ LINE à¸ªà¹ˆà¸‡à¹„à¸›à¸«à¸²à¸¥à¸¹à¸à¸„à¹‰à¸² (à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ Logic à¹ƒà¸™ Application)

  createdAt DateTime @default(now()) // à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡
  updatedAt DateTime @updatedAt // à¸­à¸±à¸›à¹€à¸”à¸•à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
}

model Service {
  id              String  @id @default(auto()) @map("_id") @db.ObjectId
  name            String // "à¸•à¸±à¸”à¸œà¸¡ 30 à¸™à¸²à¸—à¸µ", "à¸™à¸§à¸”à¸•à¸±à¸§ 1 à¸Šà¸¡."
  durationMinutes Int     @default(0) // à¸£à¸°à¸¢à¸°à¹€à¸§à¸¥à¸²à¹€à¸›à¹‡à¸™à¸™à¸²à¸—à¸µ à¹€à¸Šà¹ˆà¸™ 30, 60
  price           Float   @default(0)
  discount        Float   @default(0)
  bufferTime      Int     @default(0)
  detail          String?
  displayNumber   Int?
  imageId         String?
  imageUrl        String?
  colorOfService  String?
  active          Boolean @default(true)

  // à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ
  storeId     String     @db.ObjectId
  store       Store      @relation(fields: [storeId], references: [id], onDelete: Cascade)
  employees   Employee[] @relation(references: [id], fields: [employeeIds]) // à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¸—à¸µà¹ˆà¸—à¸³à¸šà¸£à¸´à¸à¸²à¸£à¸™à¸µà¹‰à¹„à¸”à¹‰
  employeeIds String[]   @db.ObjectId // Reference IDs
  bookings    Booking[]

  createdAt DateTime @default(now()) // à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡
  updatedAt DateTime @updatedAt // à¸­à¸±à¸›à¹€à¸”à¸•à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
}

model Employee {
  id       String  @id @default(auto()) @map("_id") @db.ObjectId
  name     String
  surname  String
  nickname String?
  email    String
  password String
  phone    String?
  note     String?

  isActive Boolean @default(true)

  imageId  String?
  imageUrl String?
  position String?
  startDate DateTime?

  storeId String @db.ObjectId
  store   Store  @relation(fields: [storeId], references: [id], onDelete: Cascade)

  bookings   Booking[]
  services   Service[] @relation(references: [id], fields: [serviceIds])
  serviceIds String[]  @db.ObjectId

  roleId String? @db.ObjectId
  role   Role?   @relation(fields: [roleId], references: [roleId])

  // ðŸ”¥ à¸•à¸²à¸£à¸²à¸‡à¹€à¸§à¸¥à¸²à¸žà¸™à¸±à¸à¸‡à¸²à¸™
  workingDays EmployeeWorkingDay[]
  breakTimes  EmployeeBreakTime[]
  leaves      EmployeeLeave[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// à¸•à¸²à¸£à¸²à¸‡à¸§à¸±à¸™à¸—à¸³à¸‡à¸²à¸™à¸žà¸™à¸±à¸à¸‡à¸²à¸™ (Working Day)
model EmployeeWorkingDay {
  id         String @id @default(auto()) @map("_id") @db.ObjectId
  employeeId String @db.ObjectId

  dayOfWeek DayOfWeek
  isWorking Boolean   @default(false)

  timeSlots EmployeeWorkingTime[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  employee  Employee @relation(fields: [employeeId], references: [id])

  @@unique([employeeId, dayOfWeek])
}

// à¹€à¸§à¸¥à¸²à¸—à¸³à¸‡à¸²à¸™à¸•à¹ˆà¸­à¸§à¸±à¸™
model EmployeeWorkingTime {
  id           String @id @default(auto()) @map("_id") @db.ObjectId
  workingDayId String @db.ObjectId

  startTime String // "09:00"
  endTime   String // "18:00"

  workingDay EmployeeWorkingDay @relation(fields: [workingDayId], references: [id])

  createdAt DateTime @default(now())
}

// à¹€à¸§à¸¥à¸²à¸žà¸±à¸à¸žà¸™à¸±à¸à¸‡à¸²à¸™
model EmployeeBreakTime {
  id         String @id @default(auto()) @map("_id") @db.ObjectId
  employeeId String @db.ObjectId

  dayOfWeek DayOfWeek

  startTime String // "12:00"
  endTime   String // "13:00"

  createdAt DateTime @default(now())
  employee  Employee @relation(fields: [employeeId], references: [id])
}

// à¸§à¸±à¸™à¸¥à¸²à¸«à¸¢à¸¸à¸”à¸žà¸™à¸±à¸à¸‡à¸²à¸™
model EmployeeLeave {
  id         String @id @default(auto()) @map("_id") @db.ObjectId
  employeeId String @db.ObjectId

  startDate DateTime
  endDate   DateTime

  leaveType LeaveType
  note      String?

  createdAt DateTime @default(now())
  employee  Employee @relation(fields: [employeeId], references: [id])
}

model DefaultOperatingHour {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  // 2. à¸ªà¸–à¸²à¸™à¸°à¹à¸¥à¸°à¹€à¸§à¸¥à¸²à¸—à¸³à¸à¸²à¸£à¸›à¸à¸•à¸´
  MON_isOpen    Boolean   @default(false) // true = à¹€à¸›à¸´à¸”, false = à¸›à¸´à¸” (à¸§à¸±à¸™à¸›à¸´à¸”à¸›à¸à¸•à¸´à¸‚à¸­à¸‡à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ)
  MON_openTime  DateTime? // "09:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM
  MON_closeTime DateTime? // "18:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM

  TUE_isOpen    Boolean   @default(false) // true = à¹€à¸›à¸´à¸”, false = à¸›à¸´à¸” (à¸§à¸±à¸™à¸›à¸´à¸”à¸›à¸à¸•à¸´à¸‚à¸­à¸‡à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ)
  TUE_openTime  DateTime? // "09:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM
  TUE_closeTime DateTime? // "18:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM

  WED_isOpen    Boolean   @default(false) // true = à¹€à¸›à¸´à¸”, false = à¸›à¸´à¸” (à¸§à¸±à¸™à¸›à¸´à¸”à¸›à¸à¸•à¸´à¸‚à¸­à¸‡à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ)
  WED_openTime  DateTime? // "09:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM
  WED_closeTime DateTime? // "18:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM

  THU_isOpen    Boolean   @default(false) // true = à¹€à¸›à¸´à¸”, false = à¸›à¸´à¸” (à¸§à¸±à¸™à¸›à¸´à¸”à¸›à¸à¸•à¸´à¸‚à¸­à¸‡à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ)
  THU_openTime  DateTime? // "09:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM
  THU_closeTime DateTime? // "18:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM

  FRI_isOpen    Boolean   @default(false) // true = à¹€à¸›à¸´à¸”, false = à¸›à¸´à¸” (à¸§à¸±à¸™à¸›à¸´à¸”à¸›à¸à¸•à¸´à¸‚à¸­à¸‡à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ)
  FRI_openTime  DateTime? // "09:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM
  FRI_closeTime DateTime? // "18:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM

  SAT_isOpen    Boolean   @default(false) // true = à¹€à¸›à¸´à¸”, false = à¸›à¸´à¸” (à¸§à¸±à¸™à¸›à¸´à¸”à¸›à¸à¸•à¸´à¸‚à¸­à¸‡à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ)
  SAT_openTime  DateTime? // "09:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM
  SAT_closeTime DateTime? // "18:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM

  SUN_isOpen    Boolean   @default(false) // true = à¹€à¸›à¸´à¸”, false = à¸›à¸´à¸” (à¸§à¸±à¸™à¸›à¸´à¸”à¸›à¸à¸•à¸´à¸‚à¸­à¸‡à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ)
  SUN_openTime  DateTime? // "09:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM
  SUN_closeTime DateTime? // "18:00" à¸£à¸¹à¸›à¹à¸šà¸š HH:MM

  // 3. à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸à¸±à¸šà¸£à¹‰à¸²à¸™à¸„à¹‰à¸²
  storeId String @unique @db.ObjectId
  store   Store  @relation(fields: [storeId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // 4. Index à¹à¸¥à¸° Constraint
  // à¸šà¸±à¸‡à¸„à¸±à¸šà¸§à¹ˆà¸² storeId à¸«à¸™à¸¶à¹ˆà¸‡à¸•à¹‰à¸­à¸‡à¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡ DayOfWeek à¸«à¸™à¸¶à¹ˆà¸‡à¹„à¸”à¹‰à¹€à¸žà¸µà¸¢à¸‡à¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§ (à¹€à¸Šà¹ˆà¸™ à¸ˆà¸±à¸™à¸—à¸£à¹Œà¹€à¸”à¸µà¸¢à¸§)
  @@map("defaultOperatingHours")
}

model Holiday {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  date        DateTime
  startTime   DateTime?
  fullDay     Boolean     @default(true)
  endTime     DateTime?
  holidayName String
  holidayType HolidayType @default(ANNUAL)

  // 3. à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸à¸±à¸šà¸£à¹‰à¸²à¸™à¸„à¹‰à¸²
  storeId String @db.ObjectId
  store   Store  @relation(fields: [storeId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Store {
  id            String @id @default(auto()) @map("_id") @db.ObjectId
  storeName     String
  storeUsername String @unique
  lineOALink    String

  latitude  Float?
  longitude Float?
  address   String?
  placeId   String?

  storeNameTH   String?
  tel           String?
  addressCustom String?
  mapUrl        String?
  detail        String?

  logoUrl  String?
  logoId   String?
  coverUrl String?
  coverId  String?

  lineNotifyToken   String? // 2.6 à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸£à¹‰à¸²à¸™
  lineChannelId     String? // à¸ªà¸³à¸«à¸£à¸±à¸š LINE Messaging API (à¸–à¹‰à¸²à¹ƒà¸Šà¹‰)
  lineChannelSecret String? // à¸ªà¸³à¸«à¸£à¸±à¸š LINE Messaging API (à¸–à¹‰à¸²à¹ƒà¸Šà¹‰)

  newBooking     String? //à¹€à¹€à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸”à¹‰à¸£à¸±à¸šà¸à¸²à¸£à¸ˆà¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ
  successBooking String? //à¹€à¹€à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸¡à¸·à¹ˆà¸­à¸ˆà¸­à¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ
  cancelBooking  String? //à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹€à¹€à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸¡à¸·à¹ˆà¸­à¸–à¸¹à¸à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¸ˆà¸­à¸‡
  before24H      String? //à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹€à¹€à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸¡à¸·à¹ˆà¸­à¹ƒà¸à¸¥à¹‰à¸–à¸¶à¸‡à¹€à¸§à¸¥à¸²à¸™à¸±à¸” 24 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡
  reSchedule     String? //à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹€à¹€à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸¥à¸¹à¸à¸„à¹‰à¸²à¹€à¸¡à¸·à¹ˆà¸­à¸–à¸¹à¸à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸à¸²à¸£à¸ˆà¸­à¸‡

  employeeSetting EmployeeSetting
  bookingRule     BookingRule
  cancelRule      CancelRule

  userId String @unique @db.ObjectId
  user   User   @relation(fields: [userId], references: [userId], onDelete: Cascade)

  // à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ
  employees      Employee[]
  services       Service[]
  bookings       Booking[]
  operatingHours DefaultOperatingHour? // à¹€à¸§à¸¥à¸²à¹€à¸›à¸´à¸”-à¸›à¸´à¸”à¸§à¸±à¸™à¸›à¸à¸•à¸´
  notifications  Notification[] // à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸à¸±à¸š Notification
  holiday        Holiday[]
  // reports          Report[]

  createdAt DateTime @default(now()) // à¸§à¸±à¸™à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡
  updatedAt DateTime @updatedAt // à¸­à¸±à¸›à¹€à¸”à¸•à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
}

model Notification {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  // à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™à¹ƒà¸™à¸à¸²à¸£à¸ªà¹ˆà¸‡
  type          NotificationType
  method        SendMethod // à¸§à¸´à¸˜à¸µà¸à¸²à¸£à¸ªà¹ˆà¸‡: LINE/EMAIL
  message       String // à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸—à¸µà¹ˆà¸ˆà¸°à¸ªà¹ˆà¸‡
  targetAddress String // à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£/à¸­à¸µà¹€à¸¡à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸², à¸«à¸£à¸·à¸­ Store ID (à¸ªà¸³à¸«à¸£à¸±à¸š LINE Notify)

  // à¸ªà¸–à¸²à¸™à¸°à¸à¸²à¸£à¸ªà¹ˆà¸‡
  isSent       Boolean   @default(false)
  sentAt       DateTime?
  errorMessage String? // à¹€à¸à¹‡à¸š error à¸–à¹‰à¸²à¸ªà¹ˆà¸‡à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ

  // à¸à¸²à¸£à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡
  storeId String @db.ObjectId
  store   Store  @relation(fields: [storeId], references: [id], onDelete: Cascade)

  bookingId String?  @db.ObjectId
  booking   Booking? @relation(fields: [bookingId], references: [id], onDelete: Cascade)

  // à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡: à¸ªà¸³à¸«à¸£à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸²à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ LINE Messaging API 
  // (à¸–à¹‰à¸²à¸¡à¸µà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ LINE OA à¹à¸¥à¸°à¹€à¸à¹‡à¸š User ID)
  lineUserId String?
}

enum UserStatus {
  ACTIVE
  INACTIVE
}

enum TokenPurpose {
  EMAIL_VERIFICATION
  PASSWORD_RESET
}

enum RoleName {
  ADMIN
  STOREADMIN
  CUSTOMER
}

enum BookingStatus {
  PENDING // à¸£à¸­à¸¥à¸¹à¸à¸„à¹‰à¸²à¸¢à¸·à¸™à¸¢à¸±à¸™ (à¸–à¹‰à¸²à¸¡à¸µ), à¸«à¸£à¸·à¸­à¸£à¸­à¸¢à¸·à¸™à¸¢à¸±à¸™à¸ˆà¸²à¸à¸£à¹‰à¸²à¸™ (à¸–à¹‰à¸²à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹„à¸§à¹‰)
  CONFIRMED // à¸¢à¸·à¸™à¸¢à¸±à¸™à¹à¸¥à¹‰à¸§ (à¸ˆà¸­à¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ)
  RESCHEDULED // à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸™à¸±à¸”
  CANCELLED // à¸¢à¸à¹€à¸¥à¸´à¸
  COMPLETED // à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™à¸šà¸£à¸´à¸à¸²à¸£
}

enum HolidayType {
  ANNUAL
  SPECIAL
}

enum NotificationType {
  // à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¹‰à¸²à¸™à¸„à¹‰à¸² (Store)
  STORE_NEW_BOOKING // 2.7 à¸¡à¸µà¸à¸²à¸£à¸ˆà¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ
  STORE_CANCELED_BY_CUSTOMER
  STORE_BOOKING_MODIFIED

  // à¸ªà¸³à¸«à¸£à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸² (Customer)
  CUSTOMER_BOOKING_SUCCESS // 3.7 à¸ˆà¸­à¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ
  CUSTOMER_CONFIRMED // 2.9 à¸£à¹‰à¸²à¸™à¸¢à¸·à¸™à¸¢à¸±à¸™à¸„à¸´à¸§
  CUSTOMER_RESCHEDULED // 2.8, 2.9 à¸£à¹‰à¸²à¸™à¹€à¸¥à¸·à¹ˆà¸­à¸™
  CUSTOMER_CANCELED // 2.8, 2.9 à¸£à¹‰à¸²à¸™à¸¢à¸à¹€à¸¥à¸´à¸
}

enum CustomerType {
  LINE
  WALK_IN
  OTHER_CONTACT
}

enum SendMethod {
  LINE_NOTIFY // à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸£à¹‰à¸²à¸™à¸„à¹‰à¸² (à¹ƒà¸Šà¹‰ Store.lineNotifyToken)
  LINE_MESSAGING_API // à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸¥à¸¹à¸à¸„à¹‰à¸² (à¸•à¹‰à¸­à¸‡à¸¡à¸µ User's LINE ID)
  EMAIL // 2.10 à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹ƒà¸™à¸­à¸µà¹€à¸¡à¸¥
}

type EmployeeSetting {
  allowCustomerSelectEmployee Boolean @default(true)
  autoAssignEmployee          Boolean @default(false)

  maxQueuePerEmployeePerDay Int? // null à¸«à¸£à¸·à¸­ 0 = à¹„à¸¡à¹ˆà¸ˆà¸³à¸à¸±à¸”
}

type BookingRule {
  minAdvanceBookingHours Int @default(3) // à¸ˆà¸­à¸‡à¸¥à¹ˆà¸§à¸‡à¸«à¸™à¹‰à¸²à¸‚à¸±à¹‰à¸™à¸•à¹ˆà¸³ (à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡) 
  maxAdvanceBookingDays  Int @default(1) // à¸ˆà¸­à¸‡à¸¥à¹ˆà¸§à¸‡à¸«à¸™à¹‰à¸²à¸ªà¸¹à¸‡à¸ªà¸¸à¸” (à¸§à¸±à¸™)
  maxQueuePerPhone       Int @default(3) // à¸ˆà¸³à¸™à¸§à¸™à¸„à¸´à¸§à¸ªà¸¹à¸‡à¸ªà¸¸à¸”à¸•à¹ˆà¸­à¸šà¸£à¸´à¸à¸²à¸£
}

type CancelRule {
  minCancelBeforeHours Int     @default(3) // à¸•à¹‰à¸­à¸‡à¸¢à¸à¹€à¸¥à¸´à¸à¸¥à¹ˆà¸§à¸‡à¸«à¸™à¹‰à¸²à¸à¸µà¹ˆà¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡
  allowCustomerCancel  Boolean @default(true)
}

// Enum à¸§à¸±à¸™à¹ƒà¸™à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ
enum DayOfWeek {
  MON
  TUE
  WED
  THU
  FRI
  SAT
  SUN
}

enum LeaveType {
  SICK
  VACATION
  PERSONAL
  OTHER
}
